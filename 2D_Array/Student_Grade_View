#Joshua Hooder
#Started 10-02-2023
#Simple Program to Enter and Check Student Grades
#[11-02-2023] Simple my ass, its 1:40 am and im trying to make student name and grade inputs work

import os
os.system("cls")
student_list = [[0]] #0 prevents chrash when adding the furst student
choices = "1: Add to a Student\n2: List off Student's or Grades\n3: Find the Student's Average\n4: Find the Class Average\n5: Exit" #Saves me from typing this every time

def add_student(name):
    global student_list
    os.system("cls")
    print("Student Added to the List")
    student_list.append([name])
    print("What Would you like to\n1: Return to the Menu\n2: Add Another Student\n3: Exit")
    while True:
        try:
            choice = int(input())
        except:
            print("Enter a Valid Option:")
            continue
        if choice == 1:
            os.system("cls")
            print(f"Please Chose one of the Following\n{choices}")
            choice_input()
            break
        elif choice == 2:
            os.system("cls")
            try_add_student()
            break
        elif choice == 3:
            os.system("cls")
            exit("Program Closed")
        else:
            print("Enter a Valid Option:")
def try_add_student():
    for sublist in student_list:
        list_check = str(sublist)
    print("Please Enter Student's Name:")
    while True:
        student_name = input().lower()
        while student_name[-1] == " ":
            student_name = student_name[:-1]
        while student_name[0] == " ":
            student_name = student_name[1:]
        if student_name in list_check:
            print("That Student Already Exists\n1: Try Again\n2: Return to the Menu\n3: Exit")
            while student_name in list_check:
                try:
                    choice = int(input())
                except:
                    print("Enter a Vaild Option:")
                    continue
                if choice == 1:
                    student_name = ""
                    try_add_student()
                    break
                elif choice == 2:
                    student_name = ""
                    os.system("cls")
                    print(f"Slect One of The following\n{choices}")
                    choice_input()
                    break
                elif choice == 3:
                    os.system("cls")
                    exit("Program Closed")
                else:
                    print("Enter a Vaild Option:")
        if student_name.isalpha():
            print("You Are Not Entering a Last Name\n Are You Sure You Want to Continue?[y/n]")
            while True: 
                choice = input().lower()
                if choice == "y":
                    add_student(student_name)
                    break
                elif choice == "n":
                    os.system("cls")
                    print("What Would You Like to do:\n1: Try Again\n2: Return to the Menu\n3: Exit")
                    while True:
                        try:
                            choice = int(input())
                        except:
                            print("Enter a Vaild Option:")
                            continue
                        if choice == 1:
                            os.system("cls")
                            try_add_student()
                            break
                        elif choice == 2:
                            os.system("cls")
                            print(f"Please Chose one of the Following\n{choices}")
                            choice_input()
                            break
                        elif choice == 3:
                            os.system("cls")
                            exit("Program Closed")
                        else:
                            print("Enter a Vaild Option:")
                else: 
                    print("Enter 'y' or 'n'")
        else:
            student_name = student_name.replace(" ", "_")
            if not student_name.replace("_", "").isalpha():
                os.system("cls")
                print("Student's Name Should Only Contain Letters and Spacre\nEnter Student's Name:")
                continue
            else:
                add_student(student_name)
def add_grade():
    global student_list
    for sublist in student_list:
        check_list = sublist
    print("Which Student Woud you Like to Grade:")
    choice = input().lower()
    while choice[-1] == " ":
            choice = choice[:-1]
    while choice[0] == " ":
            choice = choice[1:]
    choice = choice.replace(" ", "_")
    if choice in check_list and choice.replace("_", "").isalpha(): #isalpha makes sure that it doesnt pick up a grade
        for i, sublist in enumerate(student_list):
          if choice in sublist:
              index = i
              break
        print("What Grade Would You Like to Add (0-100):")
        while True:
            try:
                grade = '{0:.2f}'.format(float(input()))
            except:
                print("Enter a Vaild Number (Ex: '45.63')")
                continue
            student_list[index].append(grade)
            os.system("cls")
            print(f"Grade of {grade} Added {choice.replace('_', ' ')}'s Profile")
            print("What Would You Like to do:\n1: Add Another Grade\n2: Return to the Menu\n3: Exit")
            while True:
                try:
                    choice = int(input())
                except:
                    print("Enter a Vaild Option:")
                    continue
                if choice == 1:
                    os.system("cls")
                    add_grade()
                    break
                elif choice == 2:
                    os.system("cls")
                    print(f"Please Chose one of the Following\n{choices}")
                    choice_input()
                    break
                elif choice == 3:
                    os.system("cls")
                    exit("Program Closed")
                else:
                    print("Enter a Vaild Option:")
    else:
        print("That Student Cannot be Found\nWould You Like to Try Again?[y/n]")
        while True: 
            Input = input().lower()
            if Input == "y":
                add_grade()
                break
            elif choice == "n":
                os.system("cls")
                print("What Would You Like to do:\n1: Add a Student\n2: Return to the Menu\n3: Exit")
                while True:
                    try:
                        choice = int(input())
                    except:
                        print("Enter a Vaild Option:")
                        continue
                    if choice == 1:
                        os.system("cls")
                        try_add_student()
                        break
                    elif choice == 2:
                        os.system("cls")
                        print(f"Please Chose one of the Following\n{choices}")
                        choice_input()
                        break
                    elif choice == 3:
                        os.system("cls")
                        exit("Program Closed")
                    else:
                        print("Enter a Vaild Option:")
            else: 
                print("Enter 'y' or 'n'")
def student_add():
    print("What Would You Like to do?\n1: Add a Student\n2: Add a Grade to a Student\n3: Return to the Menu")
    while True:
        try:
            choice = int(input())
        except:
            print("Enter a Vaild Option:")
            continue
        if choice == 1:
            os.system("cls")
            try_add_student()
            break
        elif choice == 2:
            os.system("cls")
            add_grade()
            break
        elif choice == 3:
            os.system("cls")
            print(f"Please Chose one of the Following\n{choices}")
            choice_input()
            break
        else:
            print("Enter a Vaild Option:")
def choice_input():
    while True:
        try:
            choice = int(input())
        except:
            print("Enter a Vaild Option:")
            continue
        if choice == 1:
            os.system("cls")
            student_add()
            break
        elif choice == 2:
            os.system("cls")
            break
        elif choice == 3:
            os.system("cls")
            break
        elif choice == 4:
            os.system("cls")
            break
        elif choice == 5:
            os.system("cls")
            exit("Program Closed")
        else:
            print("Please Enter a Vaild Option:")
def program_start():
    print(f"Welcome, please select one of the following options\n{choices}")
    choice_input()
program_start()
